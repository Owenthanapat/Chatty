events { worker_connections 1024; } 
http {

 upstream localhost { 
    server back1:3001;
    server back2:3002;
 }
 server {
    listen 8080;
    server_name localhost;
    location / {
         proxy_pass http://localhost;
    }
  }
}